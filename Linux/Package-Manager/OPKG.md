---
создал заметку: 2025-09-24T20:18:00
author: WhiteK0T
tags:
  - OPKG
  - Пакетный_Менеджер
  - Linux
---
#### [OPKG Package Manager](https://git.yoctoproject.org/opkg/about/#opkg-package-manager)
Это легковесный менеджер пакетов, предназначенный для встраиваемых Linux-систем, таких как [OpenWrt](https://openwrt.org/), [Entware](https://entware.net/), [OpenEmbedded](https://www.openembedded.org/wiki/Main_Page) и другие. Он позволяет устанавливать, обновлять, удалять и управлять программными пакетами, расширяя функциональность устройств, например, маршрутизаторов и других embedded-систем.

**Основные особенности opkg:**
- Простота и малый размер, что важно для устройств с ограниченными ресурсами.
- Поддержка работы с удалёнными и локальными репозиториями пакетов.
- Используется в таких системах, как **OpenWrt**, **Entware**, **OpenEmbedded** и др..
#### opkg — описание и использование
`opkg` требует указания одной подкоманды.
**Использование:**
```text
opkg [опции...] подкоманда [аргументы...]
```

где подкоманда — одна из следующих:
#### Управление пакетами:
- `update` - Обновить список доступных пакетов
- `upgrade <пакеты>` - Обновить пакеты
- `install <пакеты>` - Установить пакет(ы)
- `configure <пакеты>` - Настроить распакованные пакеты
- `remove <пакеты|регулярное_выражение>` - Удалить пакет(ы)
- `flag <флаг> <пакеты>` - Установить флаг для пакета(ов).  Возможные флаги: `hold`, `noprune`, `user`, `ok`, `installed`, `unpacked` (один за вызов)
#### Информационные команды:
- `list` - Показать список доступных пакетов
- `list-installed` - Показать список установленных пакетов
- `list-upgradable` - Показать список установленных пакетов, доступных для обновления
- `list-changed-conffiles` - Показать список конфигурационных файлов, изменённых пользователем
- `files <пакет>` - Показать файлы, принадлежащие пакету
- `search <файл|регулярное_выражение>` - Показать пакеты, содержащие указанный файл
- `find <регулярное_выражение>` - Показать пакеты, имя или описание которых соответствует выражению
- `info [пакет|регулярное_выражение]` - Показать всю информацию о пакете
- `status [пакет|регулярное_выражение]` - Показать статус пакета
- `download <пакет>` - Скачать пакет в текущую директорию
- `compare-versions <версия1> <оператор> <версия2>` - Сравнить версии с помощью операторов: `<= < > >= = << >>`
- `print-architecture` - Показать архитектуры, для которых доступны пакеты
- `depends [-A] [имя_пакета|паттерн]+` - Показать зависимости пакета
- `whatdepends [-A] [имя_пакета|паттерн]+` - Показать, какие пакеты зависят от указанного
- `whatdependsrec [-A] [имя_пакета|паттерн]+` - Рекурсивно показать зависимости
- `whatrecommends [-A] [имя_пакета|паттерн]+` - Показать рекомендуемые пакеты
- `whatsuggests [-A] [имя_пакета|паттерн]+` - Показать предлагаемые пакеты
- `whatprovides [-A] [имя_пакета|паттерн]+` - Показать, какие пакеты предоставляют указанный функционал
- `whatconflicts [-A] [имя_пакета|паттерн]+` - Показать конфликтующие пакеты
- `whatreplaces [-A] [имя_пакета|паттерн]+` - Показать пакеты, которые заменяют указанный
#### Опции:
- `-A` - Запросить информацию по всем пакетам, а не только по установленным
- `-V[<уровень>]` - Установить уровень подробности вывода
- `--verbosity[=<уровень>]`  
    Уровни подробности:  
    0 — только ошибки  
    1 — обычные сообщения (по умолчанию)  
    2 — информативные сообщения  
    3 — отладка  
    4 — отладка уровень 2
- `-f <файл_конфигурации>` - Использовать указанный файл конфигурации opkg
- `--conf <файл_конфигурации>`  - То же, что и `-f`
- `--cache <директория>` - Использовать указанную директорию для кэша пакетов
- `-d <имя_назначения>` - Использовать указанное имя назначения как корневую директорию для установки, удаления и обновления пакетов
- `--dest <имя_назначения>` - То же, что и `-d`
- `-o <директория>` - Использовать указанную директорию как корневую для офлайн-установки пакетов
- `--offline-root <директория>` - То же, что и `-o`
- `--verify-program <путь>` - Использовать указанную программу для проверки подписей
- `--add-arch <архитектура>:<приоритет>` - Зарегистрировать архитектуру с указанным приоритетом
- `--add-dest <имя>:<путь>` - Зарегистрировать назначение с указанным путём
#### Опции принудительного действия:
- `--force-depends` - Устанавливать/удалять пакеты, игнорируя ошибки зависимостей
- `--force-maintainer` - Перезаписывать существующие конфигурационные файлы
- `--force-reinstall` - Переустановить пакет(ы)
- `--force-overwrite` - Перезаписать файлы, принадлежащие другим пакетам
- `--force-downgrade` - Разрешить понижение версии пакетов
- `--force-space` - Отключить проверку свободного места
- `--force-postinstall` - Запускать postinstall-скрипты даже в офлайн-режиме
- `--force-remove` - Удалять пакет, даже если скрипт prerm завершился с ошибкой
- `--force-checksum` - Не прерывать работу при несовпадении контрольных сумм
- `--no-check-certificate` - Не проверять SSL-сертификаты
- `--noaction` - Не выполнять действия — только тест
- `--download-only` - Только скачать пакет, не устанавливать
- `--nodeps` - Игнорировать зависимости
- `--nocase` - Игнорировать регистр при поиске по шаблонам
- `--size` - Показывать размер пакета при выводе списка доступных пакетов
- `--strip-abi` - Показывать имя пакета без добавленного ABI-номера
- `--force-removal-of-dependent-packages` - Удалять пакет и все зависящие от него пакеты
- `--autoremove` - Удалять пакеты, установленные автоматически для удовлетворения зависимостей
- `-t`, `--tmp-dir` - Указать временную директорию
- `-l`, `--lists-dir` - Указать директорию для списков пакетов
#### Примеры использования с регулярными выражениями:
Регулярное выражение может быть, например, `pkgname*`, `*file*` или подобным.
**Примеры:**
```bash
opkg info 'libstd*'
opkg search '*libop*'
opkg remove 'libncur*'
```

#OPKG 
#Пакетный_Менеджер 
#Linux 